<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SmartLunch</title>
    <meta name="description" content="SmartLunch">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- External CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/select2/select2.min.css">
    <link rel="stylesheet" href="vendor/owlcarousel/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdn.rawgit.com/noelboss/featherlight/1.7.13/release/featherlight.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/brands.css">
    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700|Josefin+Sans:300,400,700">
    <link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/smartstyle.css">
    <!-- Modernizr JS for IE8 support of HTML5 elements and media queries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
</head>

<body data-spy="scroll" data-target="#navbar" class="static-layout ng-cloak">
    <!-- Loading spinner -->
    <div ng-hide="!isLoading" class="se-pre-con" role="status" aria-live="polite" aria-label="Cargando contenido">
        <span class="sr-only">Cargando contenido, por favor espere...</span>
    </div>
    <div class="imaged-background container-fluid" ng-app="AngujarJS" ng-controller="Calificacion">
        <div class="solid-background">
            <div id="side-nav" class="sidenav">
                <a href="javascript:void(0)" id="side-nav-close">X</a>
            </div>
            <div id="canvas-overlay"></div>
            <div>
                <nav class="navbar navbar-expand-lg navbar-dark container-fluid mr-0 smart-bg">
                    <h4 class="navbar-brand smart-title" href="#"><i class="fa fa-utensils mr-2"></i>SmartLunch</h4>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ml-auto text-right">
                            <li class="nav-item active">
                                <a class="nav-link" href="index.html">
                                    <i class="fa fa-home mr-1"></i>
                                    Inicio
                                </a>
                            </li>
                            <li ng-if="user_Rol == 'Cocina'" class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-dollar-sign mr-1"></i>Venta y Expedición
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a ng-if="user_Rol == 'Cocina'" class="dropdown-item" href="despacho.html">Despacho de plato</a>
                                    <a ng-if="user_Rol == 'Comensal' || user_Rol == 'Gerencia' || user_Rol == 'Admin'" class="dropdown-item" href="calificacion.html">Calificación</a>
                                </div>
                            </li>
                            <li ng-if="user_Rol == 'Gerencia'" class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-chart-bar mr-1"></i>Reportes de Gestión
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="reportegcomensales.html">Reporte por Comensal</a>
                                    <a class="dropdown-item" href="reporteggestion.html">Reporte de Gestión</a>
                                </div>
                            </li>
                            <li ng-if="user_Rol == 'Cocina'" class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-boxes mr-1"></i>Cocina
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="plato.html">Platos</a>
                                    <a class="dropdown-item" href="menudeldia.html">Menú del día</a>
                                </div>
                            </li>
                            <li ng-if="user_Rol == 'Admin' || user_Rol == 'Gerencia'" class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle active" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-cog mr-1"></i>Configuración
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="usuarios.html">Usuarios</a>
                                    <a class="dropdown-item" href="planta.html">Planta</a>
                                    <a class="dropdown-item" href="centrodecosto.html">Centro de Costo</a>
                                    <a class="dropdown-item" href="proyecto.html">Proyecto</a>
                                    <a class="dropdown-item" href="plan-nutricional.html">Perfil Nutricional</a>
                                    <a class="dropdown-item" href="jerarquia.html">Jerarquia</a>
                                    <a class="dropdown-item" href="turno.html">Turnos</a>
                                </div>
                            </li>
                           
                            <li class="nav-item active">
                                <a class="nav-link" href="login.html"><i class="fa fa-sign-out-alt ml-1"></i></a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <div class="heading-section bg-dark text-white pt-2 pl-3">
                    <h3>
                        Calificación
                    </h3>
                </div>

                <div class="dishes-text row mb-2">
                    <div class="col-sm-8 ml-0 pl-4 mt-2">
                        <h5 style="margin-bottom: 0px; padding-top:5px"><span>{{ViewAction}}</span></h5>
                    </div>
                </div>
                <div class="container-fluid mr-3" style="min-height: 428px">
                    <hr style="border-top: 2px solid rgba(0,0,0,.1); margin-top: 0px !important;">
                    <div ng-if="ViewAction==='Platos consumidos'">
                        <div class="container-fluid">
                            <div class="dishes-text col-12">
                                <table class="table table-hover table-sm">
                                    <thead style="font-size: 14px;">
                                        <tr class="bg-dark text-white row">
                                            <th class="col-3">Fecha del dóa</th>
                                            <th class="col-3">Turno</th>
                                            <th class="col-3">Plato</th>
                                            <th class="col-3">Calificación</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="planitem row">
                                            <td class="col-3">10/5/2020</td>
                                            <td class="col-3">Mañana</td>
                                            <td class="col-3">Arroz con pollo</td>
                                            <td class="col-3">
                                                <div class="fiveStars-group">
                                                    <span></span>
                                                    <span class="fa fa-star" id="1" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="2" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="3" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="4" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="5" ng-click="checkStars($event)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="planitem row">
                                            <td class="col-3">15/5/2020</td>
                                            <td class="col-3">Tarde</td>
                                            <td class="col-3">Ensalada Cesar</td>
                                            <td class="col-3">
                                                <div class="fiveStars-group">
                                                    <span></span>
                                                    <span class="fa fa-star" id="1" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="2" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="3" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="4" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="5" ng-click="checkStars($event)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="planitem row">
                                            <td class="col-3">25/5/2020</td>
                                            <td class="col-3">Tarde</td>
                                            <td class="col-3">Hamburguesa + fritas</td>
                                            <td class="col-3">
                                                <div class="fiveStars-group">
                                                    <span></span>
                                                    <span class="fa fa-star" id="1" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="2" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="3" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="4" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="5" ng-click="checkStars($event)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="planitem row">
                                            <td class="col-3">18/6/2020</td>
                                            <td class="col-3">Mañana</td>
                                            <td class="col-3">Puchero Vegetales</td>
                                            <td class="col-3">
                                                <div class="fiveStars-group">
                                                    <span></span>
                                                    <span class="fa fa-star" id="1" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="2" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="3" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="4" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="5" ng-click="checkStars($event)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="planitem row">
                                            <td class="col-3">26/6/2020</td>
                                            <td class="col-3">Maóana</td>
                                            <td class="col-3">Suprema + pure mixto</td>
                                            <td class="col-3">
                                                <div class="fiveStars-group">
                                                    <span></span>
                                                    <span class="fa fa-star" id="1" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="2" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="3" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="4" ng-click="checkStars($event)"></span>
                                                    <span class="fa fa-star" id="5" ng-click="checkStars($event)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- Paginación tipo DataTable -->
                                <div class="datatable-pagination mt-3" ng-if="(data || []).length >= 5">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="d-flex align-items-center">
                                            <div class="pagination-info mr-3">
                                                Mostrando {{(currentPage * pageSize) + 1}} - {{Math.min((currentPage + 1) * pageSize, (data || []).length)}} de {{(data || []).length}} registros
                                            </div>
                                            <div class="d-flex align-items-center">
                                                <label class="text-muted small mr-2">Filas por página:</label>
                                                <select class="form-control form-control-sm page-size-select" ng-model="pageSize" ng-init="pageSize = pageSize || 5" ng-change="changePageSize(pageSize)">
                                                    <option ng-value="5">5</option>
                                                    <option ng-value="10">10</option>
                                                    <option ng-value="20">20</option>
                                                    <option ng-value="50">50</option>
                                                    <option ng-value="100">100</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="pagination-controls">
                                            <div class="btn-group mr-3" role="group">
                                                <button class="btn btn-outline-secondary btn-sm" ng-disabled="currentPage == 0" ng-click="goToPage(0)" title="Primera página">
                                                    <i class="fa fa-angle-double-left"></i>
                                                </button>
                                                <button class="btn btn-outline-secondary btn-sm" ng-disabled="currentPage == 0" ng-click="goToPage(currentPage-1)" title="Página anterior">
                                                    <i class="fa fa-angle-left"></i>
                                                </button>
                                                <div class="btn-group" role="group" ng-if="numberOfPages() > 1">
                                                    <button class="btn page-number-btn" 
                                                            ng-repeat="page in getPageNumbers() track by $index"
                                                            ng-click="goToPage(page)"
                                                            ng-class="{'btn-secondary': currentPage === page, 'btn-outline-secondary': currentPage !== page}"
                                                            ng-disabled="page === '...'">
                                                        {{page}}
                                                    </button>
                                                </div>
                                                <button class="btn btn-outline-secondary btn-sm" ng-disabled="currentPage+1 == numberOfPages()" ng-click="goToPage(currentPage+1)" title="Página siguiente">
                                                    <i class="fa fa-angle-right"></i>
                                                </button>
                                                <button class="btn btn-outline-secondary btn-sm" ng-disabled="currentPage+1 == numberOfPages()" ng-click="goToPage(numberOfPages()-1)" title="Última página">
                                                    <i class="fa fa-angle-double-right"></i>
                                                </button>
                                            </div>
                                            <div class="pagination-info">
                                                Página {{currentPage+1}} de {{numberOfPages()}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-if="ViewAction==='Nuevo Plan'">
                        <div class="row container-fluid">
                            <div class="dishes-text col-9">
                                <div class="form-group">
                                    <div class="pb-3 container">
                                        <label class="row" for="view_nombre">Nombre</label>
                                        <div class="row">
                                            <input class="col-8 form-control" type="text" id="view_nombre" ng-model="view_nombre" placeholder="Ingrese nombre" required>
                                        </div>
                                    </div>
                                    <div class="pb-3 container">
                                        <label class="row" for="view_descripcion">Descripcion</label>
                                        <div class="row">
                                            <input class="col-8 form-control" type="text" id="view_descripcion" ng-model="view_descripcion" placeholder="Ingrese descripcion" required>
                                        </div>
                                    </div>
                                    <button type="button" class="btn-primary mt-3" ng-click="ModelCreate()">Guardar</button>
                                    <button type="button" class="btn-primary mt-3" ng-click="ViewCancel()">Cancelar</button>
                                </div>
                            </div>
                            <div class="col-3">
                                <img class="mb-4 smart-imagen" src="img/steak.jpg" alt="Imagen decorativa de comida" />
                            </div>
                        </div>
                    </div>
                    <div ng-if="ViewAction==='Editar Plan'">
                        <div class="row container-fluid">
                            <div class="dishes-text col-9">
                                <div class="form-group">
                                    <div class="pb-3 container">
                                        <label class="row" for="view_nombre">Nombre</label>
                                        <div class="row">
                                            <input class="col-8 form-control" type="text" id="view_nombre" ng-model="view_nombre" placeholder="Ingrese nombre" required>
                                        </div>
                                    </div>
                                    <div class="pb-3 container">
                                        <label class="row" for="view_descripcion">Descripcion</label>
                                        <div class="row">
                                            <input class="col-8 form-control" type="text" id="view_descripcion" ng-model="view_descripcion" placeholder="Ingrese descripcion" required>
                                        </div>
                                    </div>
                                    <button type="submit" class="btn-primary mt-3" ng-click="ModelUpdate(view_id)">Guardar</button>
                                    <button type="button" class="btn-primary mt-3" ng-click="ViewCancel()">Cancelar</button>
                                </div>
                            </div>
                            <div class="col-3">
                                <img class="mb-4 smart-imagen" src="img/steak.jpg" alt="Imagen decorativa de comida" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- External JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="vendor/bootstrap/popper.min.js"></script>
    <script src="vendor/bootstrap/bootstrap.min.js"></script>
    <script src="vendor/select2/select2.min.js "></script>
    <script src="vendor/owlcarousel/owl.carousel.min.js"></script>
    <script src="https://cdn.rawgit.com/noelboss/featherlight/1.7.13/release/featherlight.min.js"></script>
    <script src="vendor/stellar/jquery.stellar.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Main JS -->
    <!-- Main JS -->
    <!-- Configuración centralizada - DEBE CARGARSE PRIMERO -->
    <script src="js/config.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="js/calificacion.js"></script>
</body>
</html>
